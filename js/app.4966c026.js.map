{"version":3,"file":"js/app.4966c026.js","mappings":"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","sources":["webpack://fly-chess/./src/components/ChessBoard.vue?9857","webpack://fly-chess/./src/components/ChessBoard.vue","webpack://fly-chess/./src/game/ai.ts","webpack://fly-chess/./src/game/game.ts","webpack://fly-chess/./src/App.vue?2a5e","webpack://fly-chess/./src/App.vue","webpack://fly-chess/./src/main.ts","webpack://fly-chess/webpack/bootstrap","webpack://fly-chess/webpack/runtime/amd define","webpack://fly-chess/webpack/runtime/amd options","webpack://fly-chess/webpack/runtime/chunk loaded","webpack://fly-chess/webpack/runtime/compat get default export","webpack://fly-chess/webpack/runtime/define property getters","webpack://fly-chess/webpack/runtime/global","webpack://fly-chess/webpack/runtime/hasOwnProperty shorthand","webpack://fly-chess/webpack/runtime/node module decorator","webpack://fly-chess/webpack/runtime/jsonp chunk loading","webpack://fly-chess/webpack/startup"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  width: \"360\",\n  height: \"360\",\n  \"view-box\": \"0 0 360 360\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"rect\", {\n  x: \"0\",\n  y: \"0\",\n  width: \"360\",\n  height: \"360\",\n  fill: \"wheat\"\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createStaticVNode(\"<g id=\\\"rectItem\\\"><rect x=\\\"-20\\\" y=\\\"-10\\\" width=\\\"40\\\" height=\\\"20\\\" stroke=\\\"black\\\"></rect></g><g id=\\\"triItem\\\"><path d=\\\"M 0 0 L 40 0 L 0 40 z\\\" stroke=\\\"black\\\"></path></g><g id=\\\"squareItem\\\"><rect x=\\\"-10\\\" y=\\\"-10\\\" width=\\\"20\\\" height=\\\"20\\\" stroke=\\\"black\\\"></rect></g><g id=\\\"arrowItem\\\"><path d=\\\"M -2 -10 L 2 -10 L 2 0 L 4 0 L 0 10 L -4 0 L -2 0 z\\\"></path></g><g id=\\\"chess\\\"><circle r=\\\"8\\\" fill=\\\"white\\\" stroke=\\\"black\\\"></circle><circle r=\\\"5\\\"></circle></g>\", 5)\nconst _hoisted_8 = {\n  id: \"partofBoard\",\n  \"stroke-linejoin\": \"round\"\n}\nconst _hoisted_9 = [\"xlink:href\", \"transform\"]\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<circle cx=\\\"15\\\" cy=\\\"105\\\" r=\\\"8\\\" fill=\\\"white\\\" stroke=\\\"black\\\"></circle><rect x=\\\"20\\\" y=\\\"20\\\" width=\\\"60\\\" height=\\\"60\\\"></rect><circle cx=\\\"40\\\" cy=\\\"40\\\" r=\\\"8\\\" fill=\\\"white\\\" stroke=\\\"black\\\"></circle><circle cx=\\\"40\\\" cy=\\\"60\\\" r=\\\"8\\\" fill=\\\"white\\\" stroke=\\\"black\\\"></circle><circle cx=\\\"60\\\" cy=\\\"40\\\" r=\\\"8\\\" fill=\\\"white\\\" stroke=\\\"black\\\"></circle><circle cx=\\\"60\\\" cy=\\\"60\\\" r=\\\"8\\\" fill=\\\"white\\\" stroke=\\\"black\\\"></circle><path d=\\\"M 150 150 L 180 180 L 150 210 z\\\" stroke=\\\"black\\\"></path><use xlink:href=\\\"#arrowItem\\\" transform=\\\"translate(260, 150)\\\" stroke=\\\"black\\\"></use><use xlink:href=\\\"#arrowItem\\\" transform=\\\"translate(260, 210)\\\" stroke=\\\"black\\\"></use>\", 9)\nconst _hoisted_19 = [\"fill\", \"stroke\", \"transform\"]\nconst _hoisted_20 = [\"fill\", \"stroke\", \"transform\", \"onClick\"]\nconst _hoisted_21 = [\"x\", \"y\"]\n\nimport { computed } from 'vue'\nimport { ChessGame, PlayerClient } from '@/game/game'\nimport type { PlayerID, ChessID } from '@/game/types'\nimport { SlaveGame } from '@nekosu/game-framework'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChessBoard',\n  props: {\n    client: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n  client: PlayerClient\n};\n\n\n\nconst boardData = [\n  [0, 1, 60, 110],\n  [0, 0, 110, 80],\n  [0, 1, 160, 30],\n  [0, 0, 330, 140],\n  [0, 0, 330, 220],\n  [0, 1, 160, 330],\n  [0, 0, 110, 280],\n  [0, 1, 60, 250],\n  [0, 0, 30, 180],\n  [1, 3, 230, 50],\n  [1, 2, 270, 130],\n  [1, 1, 270, 230],\n  [1, 0, 230, 310],\n  [2, 0, 60, 180],\n  [2, 0, 80, 180],\n  [2, 0, 100, 180],\n  [2, 0, 120, 180],\n  [2, 0, 140, 180]\n]\n\nconst startPlace: [number, number][] = [\n  [40, 40],\n  [40, 60],\n  [60, 40],\n  [60, 60]\n]\n\nconst placeMapping: [number, number][] = [\n  [15, 105],\n  [38, 118],\n  [60, 110],\n  [80, 110],\n  [102, 118],\n  [118, 102],\n  [110, 80],\n  [110, 60],\n  [118, 38],\n  [140, 30],\n  [160, 30],\n  [180, 30],\n  [200, 30],\n  [220, 30],\n  [242, 38],\n  [250, 60],\n  [250, 80],\n  [242, 102],\n  [258, 118],\n  [280, 110],\n  [300, 110],\n  [322, 118],\n  [330, 140],\n  [330, 160],\n  [330, 180],\n  [330, 200],\n  [330, 220],\n  [322, 242],\n  [300, 250],\n  [280, 250],\n  [258, 242],\n  [242, 258],\n  [250, 280],\n  [250, 300],\n  [242, 322],\n  [220, 330],\n  [200, 330],\n  [180, 330],\n  [160, 330],\n  [140, 330],\n  [118, 322],\n  [110, 300],\n  [110, 280],\n  [118, 258],\n  [102, 242],\n  [80, 250],\n  [60, 250],\n  [38, 242],\n  [30, 220],\n  [30, 200],\n  [30, 180],\n  [60, 180],\n  [80, 180],\n  [100, 180],\n  [120, 180],\n  [140, 180],\n  [160, 180]\n]\n\nconst boardType = ['#rectItem', '#triItem', '#squareItem']\nconst colors = ['#FF3F3F', '#CFCF00', '#00CFFF', '#00CF00']\n\nfunction remap(i: PlayerID, p: [number, number]): [number, number] {\n  const [x, y] = p\n  switch (i) {\n    case 0:\n      return [x, y]\n    case 1:\n      return [360 - y, x]\n    case 2:\n      return [360 - x, 360 - y]\n    case 3:\n      return [y, 360 - x]\n  }\n}\n\nconst chessData = computed<\n  [number, number, string, PlayerID, ChessID, number][]\n>(() => {\n  const res: [number, number, string, PlayerID, ChessID, number][] = []\n  const st = new Set<string>()\n  for (let i = 0; i < 4; i++) {\n    for (let j = 0; j < 4; j++) {\n      const pos = (\n        props.client.slave as SlaveGame<ChessID, PlayerID, ChessGame>\n      ).game.data.chess[i as PlayerID][j as ChessID]\n      let [x, y] = remap(\n        i as PlayerID,\n        pos >= 0 ? placeMapping[pos] : startPlace[j]\n      )\n      while (st.has(`${x}${y}`)) {\n        x += 2\n        y -= 2\n      }\n      st.add(`${x}${y}`)\n      res.push([x, y, colors[i], i as PlayerID, j as ChessID, pos])\n    }\n  }\n  return res\n})\n\nfunction clickChess(idx: number) {\n  const [x, y, c, i, j, pos] = chessData.value[idx]\n  if (i !== 0) {\n    return\n  }\n  props.client.choose(j)\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"defs\", null, [\n      _hoisted_3,\n      _createElementVNode(\"g\", _hoisted_8, [\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(boardData, (dat, i) => {\n          return _createElementVNode(\"use\", {\n            key: `board-item-${i}`,\n            \"xlink:href\": boardType[dat[0]],\n            transform: `translate(${dat[2]}, ${dat[3]}) rotate(${90 * dat[1]})`\n          }, null, 8, _hoisted_9)\n        }), 64)),\n        _hoisted_10\n      ])\n    ]),\n    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(colors, (color, i) => {\n      return _createElementVNode(\"use\", {\n        key: `board-${i}`,\n        \"xlink:href\": \"#partofBoard\",\n        fill: color,\n        stroke: __props.client.slave?.game.data.current === i ? 'yellow' : 'black',\n        transform: `translate(180, 180) rotate(${i * 90}) translate(-180, -180)`\n      }, null, 8, _hoisted_19)\n    }), 64)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(chessData), (dat, i) => {\n      return (_openBlock(), _createElementBlock(\"use\", {\n        key: `chess-${i}`,\n        \"xlink:href\": \"#chess\",\n        fill: dat[2],\n        stroke: dat[2],\n        transform: `translate(${dat[0]}, ${dat[1]})`,\n        style: {\"transition\":\"all 0.2s\"},\n        onClick: ($event: any) => (clickChess(i))\n      }, null, 8, _hoisted_20))\n    }), 128)),\n    _createElementVNode(\"text\", {\n      x: [0, 3].includes(__props.client.data.current) ? 5 : 343,\n      y: __props.client.data.current < 2 ? 20 : 356,\n      \"font-family\": \"consolas\",\n      \"font-size\": \"20\"\n    }, _toDisplayString(__props.client.data.roll), 9, _hoisted_21)\n  ]))\n}\n}\n\n})","import script from \"./ChessBoard.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChessBoard.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { ChessAI, ChessID, PlayerID, RollResult } from './types'\n\nexport class RandomAI implements ChessAI {\n  async eval(\n    roll: RollResult,\n    query: (pos: PlayerID) => Record<ChessID, number>\n  ): Promise<ChessID> {\n    const self = query(0)\n    if (roll === 6) {\n      for (let i = 0; i < 4; i++) {\n        if (self[i as ChessID] === -1) {\n          return i as ChessID\n        }\n      }\n    }\n    const ok: ChessID[] = []\n    for (let i = 0; i < 4; i++) {\n      const p = self[i as ChessID]\n      if (p === 56 || p === -1) {\n        continue\n      }\n      ok.push(i as ChessID)\n    }\n    return ok[Math.floor(Math.random() * ok.length)]\n  }\n}\n\nexport class PureEvaluateAI {\n  async eval(\n    roll: RollResult,\n    query: (pos: PlayerID) => Record<ChessID, number>\n  ): Promise<ChessID> {\n    const self = query(0)\n    if (roll === 6) {\n      for (let i = 0; i < 4; i++) {\n        if (self[i as ChessID] === -1) {\n          return i as ChessID\n        }\n      }\n    }\n    const ok: ChessID[] = []\n    for (let i = 0; i < 4; i++) {\n      const p = self[i as ChessID]\n      if (p === 56 || p === -1) {\n        continue\n      }\n      ok.push(i as ChessID)\n    }\n    for (const i of ok) {\n      if (self[i] + roll === 56) {\n        return i\n      }\n    }\n    for (const i of ok) {\n      if (self[i] + roll === 14 || self[i] + roll === 18) {\n        return i\n      }\n    }\n    for (const i of ok) {\n      if (self[i] + roll <= 46 && (self[i] + roll) % 4 === 2) {\n        return i\n      }\n    }\n    for (const i of ok) {\n      if (self[i] + roll < 56) {\n        return i\n      }\n    }\n    return ok[0] || 0\n  }\n}\n","import { reactive, computed } from 'vue'\nimport { Random, RNG } from 'random'\nimport {\n  ChessID,\n  ChessAI,\n  GameInfo,\n  PlayerID,\n  RollResult,\n  ChessClient\n} from './types'\nimport {\n  AsyncQueue,\n  Game,\n  MasterGame,\n  SlaveGame,\n  ClientConnection,\n  Signal,\n  Slot,\n  Broadcast\n} from '@nekosu/game-framework'\n\nexport class ChessAIClient implements ChessClient {\n  slave: SlaveGame<ChessID, PlayerID, ChessGame> | null\n  clientSignal: Signal<ChessID>\n  clientSlot: Slot<PlayerID>\n\n  ai: ChessAI\n  ID: PlayerID\n\n  constructor(ai: ChessAI) {\n    this.slave = null\n    this.clientSignal = new Signal()\n    this.clientSlot = new Slot()\n    this.ai = ai\n    this.ID = 0\n\n    this.clientSlot.bind(async player => {\n      if (this.ID === player) {\n        const g = this.slave as SlaveGame<ChessID, PlayerID, ChessGame>\n        const choice = await this.ai.eval(g.game.data.roll, pos => {\n          const rp = ((pos + this.ID) % 4) as PlayerID\n          return g.game.data.chess[rp]\n        })\n        await this.clientSignal.emit(choice)\n      }\n    })\n  }\n}\n\nexport class PlayerClient implements ChessClient {\n  slave: SlaveGame<ChessID, PlayerID, ChessGame> | null\n  clientSignal: Signal<ChessID>\n  clientSlot: Slot<PlayerID>\n\n  ID: PlayerID\n  resolve: ((r: ChessID) => void) | null\n  data: {\n    current: PlayerID\n    input: boolean\n    roll: RollResult | -1\n  }\n\n  constructor() {\n    this.slave = null\n    this.clientSignal = new Signal()\n    this.clientSlot = new Slot()\n    this.ID = 0\n    this.resolve = null\n    this.data = reactive({\n      current: computed<PlayerID>(() => {\n        return this.slave ? this.slave.game.data.current : 0\n      }),\n      input: computed<boolean>(() => {\n        return this.ID === this.slave?.game.data.current\n      }),\n      roll: computed<RollResult | -1>(() => {\n        return this.slave ? this.slave.game.data.roll : -1\n      })\n    })\n\n    this.clientSlot.bind(async () => {\n      if (this.data.input) {\n        let nostart = true\n        let cho: ChessID | -1 = -1\n        for (let i = 0; i < 4; i++) {\n          const pos = this.slave?.game.data.chess[0][i as ChessID] || 0\n          if (![-1, 56].includes(pos)) {\n            nostart = false\n            if (pos === -1 && cho === -1) {\n              cho = i as ChessID\n            }\n          }\n        }\n        if (nostart && this.slave?.game.data.roll !== 6) {\n          setTimeout(() => {\n            this.clientSignal.emit(cho as ChessID)\n          })\n        } else {\n          const choice = await new Promise<ChessID>(resolve => {\n            this.resolve = resolve\n          })\n          await this.clientSignal.emit(choice)\n        }\n      }\n    })\n  }\n\n  choose(r: ChessID) {\n    if (this.resolve) {\n      const res = this.resolve\n      this.resolve = null\n      res(r)\n    }\n  }\n}\n\nexport class ChessGame implements GameInfo, Game<ChessID, PlayerID> {\n  slave: SlaveGame<ChessID, PlayerID, Game<ChessID, PlayerID>>\n\n  mainBroadcast: Broadcast<ChessID>\n  clientSignal: Signal<PlayerID>\n\n  gen: Random\n  data: {\n    chess: Record<PlayerID, Record<ChessID, number>>\n    current: PlayerID\n    fin: Record<PlayerID, boolean>\n    roll: RollResult\n    animation: boolean\n  }\n  queue: AsyncQueue<ChessID>\n  clients: (ChessClient | null)[]\n\n  constructor(\n    seed: string,\n    slave: SlaveGame<ChessID, PlayerID, Game<ChessID, PlayerID>>\n  ) {\n    this.slave = slave\n    this.mainBroadcast = new Broadcast()\n    this.clientSignal = new Signal()\n\n    this.mainBroadcast.slot.bind(async item => {\n      this.queue.push(item)\n    })\n\n    this.gen = new Random()\n    this.gen.use(seed as unknown as RNG)\n    this.data = reactive({\n      chess: {\n        0: {\n          0: -1,\n          1: -1,\n          2: -1,\n          3: -1\n        },\n        1: {\n          0: -1,\n          1: -1,\n          2: -1,\n          3: -1\n        },\n        2: {\n          0: -1,\n          1: -1,\n          2: -1,\n          3: -1\n        },\n        3: {\n          0: -1,\n          1: -1,\n          2: -1,\n          3: -1\n        }\n      },\n      current: 0,\n      fin: {\n        0: false,\n        1: false,\n        2: false,\n        3: false\n      },\n      roll: 1,\n      animation: computed<boolean>(() => {\n        return !this.data.fin[0]\n      })\n    })\n    this.queue = new AsyncQueue()\n    this.clients = Array.from({ length: 4 }, () => null)\n  }\n\n  remap(pl: PlayerID, ps: number) {\n    if (ps <= 0 || ps >= 51) {\n      return -1\n    }\n    const dis = (pl + 4 - this.data.current) % 4\n    if (ps + 13 * dis <= 50) {\n      return ps + 13 * dis\n    } else if (ps > 13 * (4 - dis)) {\n      return ps - 13 * (4 - dis)\n    } else {\n      return -1\n    }\n  }\n\n  async play() {\n    for (;;) {\n      if (this.data.fin[this.data.current]) {\n        this.data.current = ((this.data.current + 1) % 4) as PlayerID\n        let allw = true\n        for (let i = 0; i < 4; i++) {\n          if (!this.data.fin[i as PlayerID]) {\n            allw = false\n          }\n        }\n        if (allw) {\n          return 0\n        }\n        continue\n      }\n      if (this.data.animation) {\n        await new Promise(resolve => {\n          setTimeout(resolve, 100)\n        })\n      }\n\n      const roll = this.gen.int(1, 6) as RollResult\n      this.data.roll = roll\n\n      await this.clientSignal.emit(this.data.current)\n      const choice = await this.queue.pop()\n\n      const prev = this.data.chess[this.data.current][choice]\n      if (prev === 56) {\n        continue\n      }\n      const step: number[] = []\n      if (prev === -1) {\n        if (roll === 6) {\n          step.push(0)\n        }\n      } else {\n        if (prev + roll === 56) {\n          step.push(56)\n        } else if (prev + roll > 56) {\n          step.push(56)\n          step.push(56 - (prev + roll - 56))\n        } else if (prev + roll >= 50) {\n          step.push(prev + roll)\n        } else {\n          let np = prev + roll\n          let fly = false\n          step.push(np)\n          if (np === 18) {\n            fly = true\n            np = 30\n            step.push(np)\n          }\n          if (np % 4 === 2) {\n            np += 4\n            step.push(np)\n          }\n          if (np === 18) {\n            fly = true\n            np = 30\n            step.push(np)\n          }\n          if (fly) {\n            const ap = (this.data.current ^ 2) as PlayerID\n            for (let i = 0; i < 4; i++) {\n              if (this.data.chess[ap][i as ChessID] === 53) {\n                this.data.chess[ap][i as ChessID] = -1\n              }\n            }\n          }\n        }\n      }\n      for (const s of step) {\n        this.data.chess[this.data.current][choice] = s\n\n        for (let i = 0; i < 4; i++) {\n          if (i === this.data.current) {\n            continue\n          }\n          for (let j = 0; j < 4; j++) {\n            const p = this.remap(\n              i as PlayerID,\n              this.data.chess[i as PlayerID][j as ChessID]\n            )\n            if (p === s) {\n              this.data.chess[i as PlayerID][j as ChessID] = -1\n            }\n          }\n        }\n        if (this.data.animation) {\n          await new Promise(resolve => {\n            setTimeout(resolve, 500)\n          })\n        }\n      }\n      let win = true\n      for (let i = 0; i < 4; i++) {\n        if (this.data.chess[this.data.current][i as ChessID] !== 56) {\n          win = false\n        }\n      }\n      if (win) {\n        this.data.fin[this.data.current] = true\n      }\n      if (roll !== 6 || win) {\n        this.data.current = ((this.data.current + 1) % 4) as PlayerID\n      }\n    }\n  }\n}\n\nexport class LocalGame {\n  games: ChessGame[]\n\n  constructor(seed: string, clients: ChessClient[]) {\n    this.games = []\n    const cons: ClientConnection<ChessID>[] = []\n    for (let i = 0; i < 4; i++) {\n      const slave = new SlaveGame<ChessID, PlayerID, ChessGame>(sg => {\n        const game = new ChessGame(seed, sg)\n        this.games.push(game)\n        return game\n      })\n      cons.push(slave.getClientConnection())\n      clients[i].ID = i as PlayerID\n      slave.game.clients[i] = clients[i]\n      slave.bind(clients[i])\n      slave.poll()\n    }\n    const master = new MasterGame(cons)\n    master.poll()\n  }\n\n  start() {\n    this.games.forEach(g => g.play())\n    // this.games.forEach(g => {\n    //   g.data.chess[0][0] = 56\n    //   g.data.chess[0][1] = 56\n    //   g.data.chess[0][2] = 56\n    //   g.data.chess[0][3] = 55\n    // })\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport ChessBoard from './components/ChessBoard.vue'\nimport { PureEvaluateAI } from './game/ai'\nimport { ChessAIClient, PlayerClient, LocalGame } from './game/game'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nconst isEval = true\n\nconst seed = Math.random().toString()\n// const seed = '5'\nconst game = new LocalGame(seed, [\n  new PlayerClient(),\n  new ChessAIClient(new PureEvaluateAI()),\n  new ChessAIClient(new PureEvaluateAI()),\n  new ChessAIClient(new PureEvaluateAI())\n])\n\ngame.start()\n\nasync function main() {\n  for (let i = 0; i < 10000; i++) {\n    //\n  }\n}\n\nmain()\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(ChessBoard, {\n    client: (_unref(game).games[0].clients[0] as PlayerClient)\n  }, null, 8, [\"client\"]))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfly_chess\"] = self[\"webpackChunkfly_chess\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8363); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","width","height","_hoisted_2","_createElementVNode","x","y","fill","_hoisted_3","_createStaticVNode","_hoisted_8","id","_hoisted_9","_hoisted_10","_hoisted_19","_hoisted_20","_hoisted_21","_defineComponent","__name","props","client","setup","__props","boardData","startPlace","placeMapping","boardType","colors","remap","i","p","chessData","computed","res","st","Set","j","pos","slave","game","data","chess","has","add","push","clickChess","idx","c","value","choose","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_renderList","dat","key","transform","color","stroke","current","_unref","style","onClick","$event","includes","_toDisplayString","roll","__exports__","PureEvaluateAI","async","query","self","ok","ChessAIClient","constructor","ai","this","clientSignal","Signal","clientSlot","Slot","ID","bind","player","g","choice","eval","rp","emit","PlayerClient","resolve","reactive","input","nostart","cho","setTimeout","Promise","r","ChessGame","seed","mainBroadcast","Broadcast","slot","queue","item","gen","Random","use","fin","animation","AsyncQueue","clients","Array","from","length","pl","ps","dis","allw","int","pop","prev","step","np","fly","ap","s","win","LocalGame","games","cons","SlaveGame","sg","getClientConnection","poll","master","MasterGame","start","forEach","play","Math","random","toString","main","_createBlock","ChessBoard","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdD","Error","amdO","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}